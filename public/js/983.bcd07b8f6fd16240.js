"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[983],{8099:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});const r={name:"URLShortnerForm",data:function(){return{original_url:"",access_only_once:!1,error:"",posting:!1}},methods:{reset:function(){this.error=""},submit:function(){var t=this;if(this.reset(),!this.original_url)return this.error="Please enter a url";this.$emit("submitting",this.original_url),this.posting=!0,axios.post("/api/tiny-url",{original_url:this.original_url,access_only_once:this.access_only_once}).then(this.onPostSuccess).catch(this.onPostError).finally((function(){return t.posting=!1}))},onPostSuccess:function(t){this.$emit("created",t.data)},onPostError:function(t){var e,s;this.error=(null==t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||"Error creating tiny url"}}}},1020:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});const r={name:"UrlHistories",mounted:function(){this.fetchHistory()},beforeDestroy:function(){this.clearTimers()},data:function(){return{urls:[],search:null,pollTimer:null}},methods:{clearTimers:function(){clearTimeout(this.pollTimer)},triggerSearch:function(){this.clearTimers(),this.fetchHistory()},fetchHistory:function(){var t=this;""===this.search&&(this.search=null),axios.get("/api/urls",{params:{search:this.search}}).then(this.onResultsFetched).catch(this.onError).finally((function(){null==t.search&&(t.pollTimer=setTimeout(t.fetchHistory.bind(t),1e4))}))},onResultsFetched:function(t){this.urls=t.data},onError:function(t){console.log(t)}}}},6501:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var r=s(9799),n=s(5233);const a={name:"HomePage",data:function(){return{tiny_url:"",show_alert:!1}},methods:{reset:function(){this.tiny_url="",this.show_alert=!1},onCreate:function(t){this.tiny_url=t.tiny_url,this.show_alert=!0}},components:{UrlHistory:r.default,UrlShortnerForm:n.default}}},5233:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var r=s(3986),n=s(6550),a={};for(const t in n)"default"!==t&&(a[t]=()=>n[t]);s.d(e,a);const l=(0,s(1900).default)(n.default,r.render,r.staticRenderFns,!1,null,null,null).exports},9799:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var r=s(6328),n=s(3263),a={};for(const t in n)"default"!==t&&(a[t]=()=>n[t]);s.d(e,a);const l=(0,s(1900).default)(n.default,r.render,r.staticRenderFns,!1,null,null,null).exports},7983:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var r=s(9387),n=s(2436),a={};for(const t in n)"default"!==t&&(a[t]=()=>n[t]);s.d(e,a);const l=(0,s(1900).default)(n.default,r.render,r.staticRenderFns,!1,null,null,null).exports},6550:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var r=s(8099),n={};for(const t in r)"default"!==t&&(n[t]=()=>r[t]);s.d(e,n);const a=r.default},3263:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var r=s(1020),n={};for(const t in r)"default"!==t&&(n[t]=()=>r[t]);s.d(e,n);const a=r.default},2436:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var r=s(6501),n={};for(const t in r)"default"!==t&&(n[t]=()=>r[t]);s.d(e,n);const a=r.default},3986:(t,e,s)=>{s.r(e);var r=s(6718),n={};for(const t in r)"default"!==t&&(n[t]=()=>r[t]);s.d(e,n)},6328:(t,e,s)=>{s.r(e);var r=s(945),n={};for(const t in r)"default"!==t&&(n[t]=()=>r[t]);s.d(e,n)},9387:(t,e,s)=>{s.r(e);var r=s(6618),n={};for(const t in r)"default"!==t&&(n[t]=()=>r[t]);s.d(e,n)},6718:(t,e,s)=>{s.r(e),s.d(e,{render:()=>r,staticRenderFns:()=>n});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"bold small mb-2"},[t._v("Original URL")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.original_url,expression:"original_url"}],staticClass:"form-control",attrs:{placeholder:"https://www.google.com/"},domProps:{value:t.original_url},on:{input:function(e){e.target.composing||(t.original_url=e.target.value)}}}),t.error?s("div",{staticClass:"mt-2 x-small px-1 error"},[t._v(t._s(t.error))]):t._e()]),s("div",{staticClass:"d-flex align-items-center mt-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.access_only_once,expression:"access_only_once"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.access_only_once)?t._i(t.access_only_once,null)>-1:t.access_only_once},on:{change:function(e){var s=t.access_only_once,r=e.target,n=!!r.checked;if(Array.isArray(s)){var a=t._i(s,null);r.checked?a<0&&(t.access_only_once=s.concat([null])):a>-1&&(t.access_only_once=s.slice(0,a).concat(s.slice(a+1)))}else t.access_only_once=n}}}),s("label",{staticClass:"small ms-2"},[t._v("Restrict to single use")]),s("button",{staticClass:"btn ms-auto",attrs:{type:"submit",disabled:t.posting}},[t.posting?s("span",{staticClass:"fas fa-circle-notch fa-spin me-2"}):t._e(),t._v("Create tiny-url")])])])},n=[]},945:(t,e,s)=>{s.r(e),s.d(e,{render:()=>r,staticRenderFns:()=>n});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"d-flex mb-3 align-items-center"},[s("h6",{staticClass:"mb-0"},[t._v("Url History")]),s("div",{staticClass:"ms-auto col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:"Enter original url to search"},domProps:{value:t.search},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.triggerSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),s("div",{staticClass:"w-100 overflow-auto"},[s("table",{staticClass:"table table-striped table-hover small"},[t._m(0),s("tbody",[0==t.urls.length?s("tr",[s("td",{staticClass:"text-center",attrs:{colspan:"4"}},[t._v("No urls found.")])]):t._e(),t._l(t.urls,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.tiny_url))]),s("td",{staticClass:"text-center"},[e.access_only_once?s("span",{staticClass:"fas fa-check text-success"}):s("span",{staticClass:"fas fa-times text-danger"})]),s("td",{staticClass:"text-center"},[t._v(t._s(e.opens))]),s("td",[t._v(t._s(e.original_url))])])}))],2)])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Tiny url")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Restricted")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Clicks")]),s("th",{attrs:{scope:"col"}},[t._v("Original url")])])])}]},6618:(t,e,s)=>{s.r(e),s.d(e,{render:()=>r,staticRenderFns:()=>n});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"content d-flex mx-auto flex-column py-5"},[s("url-shortner-form",{staticClass:"mb-5",on:{submitting:t.reset,created:t.onCreate}}),t.show_alert?s("div",{staticClass:"alert alert-success small text-center mb-5"},[t._m(0),s("div",{staticClass:"big bold mt-4"},[t._v(t._s(t.tiny_url))])]):t._e(),s("url-history",{staticClass:"mt-5"})],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title pb-2"},[s("span",{staticClass:"far fa-thumbs-up me-3"}),t._v("Tiny url created")])}]}}]);